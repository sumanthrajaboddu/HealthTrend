# HealthTrend

An Android app for tracking daily symptom severity across four time slots — Morning, Afternoon, Evening, and Night. Designed for patients to log symptoms and for caregivers to monitor trends over time.

## Features

- **Daily Symptom Logging** — Record severity (No Pain, Mild, Moderate, Severe) per time slot with a horizontal day pager, week strip with data indicators, and color-coded tiles
- **Analytics & Trends** — Severity trend chart with configurable date ranges (1 week to 1 year) and time-of-day breakdown cards
- **PDF Reports** — Generate, preview, and share PDF reports including trend charts, time-of-day summaries, and daily log tables
- **Google Sheets Sync** — Two-way sync with Google Sheets via WorkManager, with conflict resolution (newest timestamp wins) and cell-level writes
- **Reminder Notifications** — Configurable per-slot reminders using AlarmManager with exact alarms, persisted across reboots
- **Google Sign-In** — Authentication via Credential Manager for Sheets sync

## Tech Stack

| Layer | Technology |
|---|---|
| Language | Kotlin 2.2 |
| UI | Jetpack Compose (BOM 2025.12) · Material 3 |
| Architecture | MVVM · StateFlow · Repository pattern |
| DI | Hilt 2.59 |
| Database | Room 2.8 (KSP) |
| Async | Coroutines · Flow |
| Charts | Vico 2.4 |
| Sync | Google Sheets API v4 · WorkManager 2.11 |
| Auth | Credential Manager 1.5 |
| Navigation | Navigation Compose 2.8 |

**Min SDK:** 26 (Android 8.0) · **Target SDK:** 35 (Android 15) · **Compile SDK:** 36

## Project Structure

```
com.healthtrend.app/
├── data/
│   ├── model/          # HealthEntry, Severity, TimeSlot, AppSettings
│   ├── local/          # Room database, DAOs, type converters
│   ├── repository/     # HealthEntry & AppSettings repositories
│   ├── auth/           # Google Sign-In (Credential Manager)
│   ├── sync/           # Google Sheets two-way sync (WorkManager)
│   ├── notification/   # Reminders (AlarmManager, BootReceiver)
│   └── export/         # PDF report generation
├── di/                 # Hilt modules
├── ui/
│   ├── navigation/     # Bottom nav: Today, Analytics, Settings
│   ├── daycard/        # Day card screen with pager & severity picker
│   ├── analytics/      # Trend chart, breakdown cards, PDF preview
│   ├── settings/       # App config & reminder settings
│   └── theme/          # Material 3 theme, colors, typography
└── util/               # Time abstraction for testing
```

## Building

1. Clone the repository
2. Open in Android Studio
3. Create a `local.properties` file with your SDK path (auto-generated by Android Studio)
4. For Google Sheets sync, configure OAuth credentials and add a `key.properties` file
5. Build and run on a device or emulator (API 26+)

## License

All rights reserved.
